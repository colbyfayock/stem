/*!
 * Stem - Minimal wrapper with a really basic caching mechanism
 * https://github.com/colbyfayock/stem
 * Version: 0.0.1
 * @colbyfayock - colbyfayock.com
 */
window.Stem=function(a){var b=this;b.cache={precompiled:!1,compiled:!1,data:!1,render:!1},b.precompiled=document.querySelector(a).innerHTML,b.is_stale=function(a,c,d){return"undefined"==typeof d?!0:"html"===d?b.cache[c]!==a:"json"===d?JSON.stringify(b.cache[c])!==JSON.stringify(a):!0},b.html_to_template=function(a){if("string"!=typeof a){if("object"!=typeof a||0===a.length)return!1;for(var c in a)c=b.html_to_template(c);return a}return a.replace(new RegExp(/{{&gt;/,"g"),"{{>")},b.compile=function(a){return b.cache.compiled=Handlebars.compile(b.html_to_template(a))},b.render=function(a){return b.cache.render=b.cache.compiled(a)},b.grab=function(a){return b.precompiled?(b.is_stale(b.precompiled,"precompiled","html")&&(b.cache.precompiled=b.precompiled,b.compile(b.cache.precompiled)),b.is_stale(a,"data","json")&&(b.cache.data=a,b.render(b.cache.data)),b.cache.render):!1}},window.stpl={};